{"ast":null,"code":"import React,{useEffect}from'react';import{Box,Typography,CircularProgress,Alert,Paper}from'@mui/material';import{useRecipeContext}from'../context/RecipeContext';import RecipeCard from'./RecipeCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecommendationList=()=>{const{recommendations,loading,error}=useRecipeContext();// Add error state\n// Defensive checks\nconst safeRecommendations=recommendations||[];const safeLoading=loading||false;const safeError=error||null;// Add debug logging\nuseEffect(()=>{console.log(\"Recommendations:\",safeRecommendations);console.log(\"Loading state:\",safeLoading);if(safeError)console.error(\"Error:\",safeError);},[safeRecommendations,safeLoading,safeError]);return/*#__PURE__*/_jsxs(Box,{sx:{mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,sx:{mb:3,fontWeight:700,color:'white',textShadow:'0 2px 4px rgba(0,0,0,0.2)'},children:\"Recommended Recipes\"}),safeError?/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{borderRadius:2,mb:2},children:typeof safeError==='string'?safeError:(safeError===null||safeError===void 0?void 0:safeError.message)||'An error occurred'}):safeLoading?/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',my:6,color:'white'},children:[/*#__PURE__*/_jsx(CircularProgress,{sx:{color:'white'}}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{ml:2,color:'white',fontWeight:500},children:\"Loading recommendations...\"})]}):safeRecommendations.length===0?/*#__PURE__*/_jsx(Paper,{elevation:0,sx:{p:4,textAlign:'center',borderRadius:3,backgroundColor:'background.paper'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{fontSize:'1.1rem'},children:\"Add ingredients and set your health profile to get recommendations\"})}):/*#__PURE__*/_jsx(Box,{sx:{display:'grid',gridTemplateColumns:{xs:'1fr',sm:'1fr 1fr',lg:'1fr 1fr 1fr'},gap:3},children:safeRecommendations.map(recipe=>/*#__PURE__*/_jsx(RecipeCard,{recipe:recipe},(recipe===null||recipe===void 0?void 0:recipe.id)||Math.random()))})]});};export default RecommendationList;","map":{"version":3,"names":["React","useEffect","Box","Typography","CircularProgress","Alert","Paper","useRecipeContext","RecipeCard","jsx","_jsx","jsxs","_jsxs","RecommendationList","recommendations","loading","error","safeRecommendations","safeLoading","safeError","console","log","sx","mb","children","variant","gutterBottom","fontWeight","color","textShadow","severity","borderRadius","message","display","justifyContent","alignItems","my","ml","length","elevation","p","textAlign","backgroundColor","fontSize","gridTemplateColumns","xs","sm","lg","gap","map","recipe","id","Math","random"],"sources":["D:/SaltAware2.0/client/src/components/RecommendationList.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Box, Typography, CircularProgress, Alert, Paper } from '@mui/material';\r\nimport { useRecipeContext } from '../context/RecipeContext';\r\nimport RecipeCard from './RecipeCard';\r\n\r\nconst RecommendationList = () => {\r\n  const { recommendations, loading, error } = useRecipeContext(); // Add error state\r\n  \r\n  // Defensive checks\r\n  const safeRecommendations = recommendations || [];\r\n  const safeLoading = loading || false;\r\n  const safeError = error || null;\r\n  \r\n  // Add debug logging\r\n  useEffect(() => {\r\n    console.log(\"Recommendations:\", safeRecommendations);\r\n    console.log(\"Loading state:\", safeLoading);\r\n    if (safeError) console.error(\"Error:\", safeError);\r\n  }, [safeRecommendations, safeLoading, safeError]);\r\n\r\n  return (\r\n    <Box sx={{ mb: 4 }}>\r\n      <Typography \r\n        variant=\"h5\" \r\n        gutterBottom\r\n        sx={{ \r\n          mb: 3,\r\n          fontWeight: 700,\r\n          color: 'white',\r\n          textShadow: '0 2px 4px rgba(0,0,0,0.2)',\r\n        }}\r\n      >\r\n        Recommended Recipes\r\n      </Typography>\r\n      \r\n      {safeError ? (\r\n        <Alert \r\n          severity=\"error\"\r\n          sx={{ \r\n            borderRadius: 2,\r\n            mb: 2,\r\n          }}\r\n        >\r\n          {typeof safeError === 'string' ? safeError : safeError?.message || 'An error occurred'}\r\n        </Alert>\r\n      ) : safeLoading ? (\r\n        <Box \r\n          sx={{ \r\n            display: 'flex', \r\n            justifyContent: 'center', \r\n            alignItems: 'center',\r\n            my: 6,\r\n            color: 'white',\r\n          }}\r\n        >\r\n          <CircularProgress sx={{ color: 'white' }} />\r\n          <Typography \r\n            variant=\"body1\" \r\n            sx={{ \r\n              ml: 2,\r\n              color: 'white',\r\n              fontWeight: 500,\r\n            }}\r\n          >\r\n            Loading recommendations...\r\n          </Typography>\r\n        </Box>\r\n      ) : safeRecommendations.length === 0 ? (\r\n        <Paper \r\n          elevation={0} \r\n          sx={{ \r\n            p: 4, \r\n            textAlign: 'center',\r\n            borderRadius: 3,\r\n            backgroundColor: 'background.paper',\r\n          }}\r\n        >\r\n          <Typography \r\n            variant=\"body1\" \r\n            color=\"text.secondary\"\r\n            sx={{ \r\n              fontSize: '1.1rem',\r\n            }}\r\n          >\r\n            Add ingredients and set your health profile to get recommendations\r\n          </Typography>\r\n        </Paper>\r\n      ) : (\r\n        <Box \r\n          sx={{ \r\n            display: 'grid', \r\n            gridTemplateColumns: { xs: '1fr', sm: '1fr 1fr', lg: '1fr 1fr 1fr' }, \r\n            gap: 3 \r\n          }}\r\n        >\r\n          {safeRecommendations.map(recipe => (\r\n            <RecipeCard key={recipe?.id || Math.random()} recipe={recipe} />\r\n          ))}\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RecommendationList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}