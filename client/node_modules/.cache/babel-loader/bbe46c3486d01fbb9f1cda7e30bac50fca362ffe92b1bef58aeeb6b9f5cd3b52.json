{"ast":null,"code":"import React from'react';import{Box,Typography,Button,Container}from'@mui/material';import{ErrorOutline,Refresh}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class ErrorBoundary extends React.Component{constructor(props){super(props);this.handleReset=()=>{this.setState({hasError:false,error:null,errorInfo:null});window.location.reload();};this.state={hasError:false,error:null,errorInfo:null};}static getDerivedStateFromError(error){// Update state so the next render will show the fallback UI\nreturn{hasError:true,error:error};}componentDidCatch(error,errorInfo){// Log the error to console\nconsole.error('Error caught by boundary:',error,errorInfo);// Extract error message properly\nlet errorMessage='Unknown error';if(error){if(typeof error==='string'){errorMessage=error;}else if(error.message){errorMessage=error.message;}else if(error.toString&&typeof error.toString==='function'){try{errorMessage=error.toString();}catch(e){errorMessage='An error occurred';}}else{try{errorMessage=JSON.stringify(error);if(errorMessage==='{}'){errorMessage='An error occurred';}}catch(e){errorMessage='An error occurred';}}}this.setState({error:error,errorInfo:errorInfo,errorMessage:errorMessage});}render(){if(this.state.hasError){// Render custom fallback UI\nlet errorMessage='Something went wrong';if(this.state.errorMessage){errorMessage=this.state.errorMessage;}else if(this.state.error){if(typeof this.state.error==='string'){errorMessage=this.state.error;}else if(this.state.error.message){errorMessage=this.state.error.message;}else if(this.state.error.toString&&typeof this.state.error.toString==='function'){try{errorMessage=this.state.error.toString();}catch(e){errorMessage='An error occurred';}}}return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:8},children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:4,borderRadius:3,backgroundColor:'background.paper',boxShadow:'0 4px 20px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(ErrorOutline,{sx:{fontSize:64,color:'error.main',mb:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,sx:{fontWeight:700,mb:2},children:\"Oops! Something went wrong\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{mb:3},children:errorMessage}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/_jsx(Refresh,{}),onClick:this.handleReset,sx:{mt:2},children:\"Refresh Page\"})]})});}return this.props.children;}}export default ErrorBoundary;","map":{"version":3,"names":["React","Box","Typography","Button","Container","ErrorOutline","Refresh","jsx","_jsx","jsxs","_jsxs","ErrorBoundary","Component","constructor","props","handleReset","setState","hasError","error","errorInfo","window","location","reload","state","getDerivedStateFromError","componentDidCatch","console","errorMessage","message","toString","e","JSON","stringify","render","maxWidth","sx","py","children","textAlign","p","borderRadius","backgroundColor","boxShadow","fontSize","color","mb","variant","gutterBottom","fontWeight","startIcon","onClick","mt"],"sources":["D:/SaltAware2.0/client/src/components/ErrorBoundary.jsx"],"sourcesContent":["import React from 'react';\nimport { Box, Typography, Button, Container } from '@mui/material';\nimport { ErrorOutline, Refresh } from '@mui/icons-material';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, error: null, errorInfo: null };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI\n    return { hasError: true, error: error };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // Log the error to console\n    console.error('Error caught by boundary:', error, errorInfo);\n    \n    // Extract error message properly\n    let errorMessage = 'Unknown error';\n    if (error) {\n      if (typeof error === 'string') {\n        errorMessage = error;\n      } else if (error.message) {\n        errorMessage = error.message;\n      } else if (error.toString && typeof error.toString === 'function') {\n        try {\n          errorMessage = error.toString();\n        } catch (e) {\n          errorMessage = 'An error occurred';\n        }\n      } else {\n        try {\n          errorMessage = JSON.stringify(error);\n          if (errorMessage === '{}') {\n            errorMessage = 'An error occurred';\n          }\n        } catch (e) {\n          errorMessage = 'An error occurred';\n        }\n      }\n    }\n    \n    this.setState({\n      error: error,\n      errorInfo: errorInfo,\n      errorMessage: errorMessage\n    });\n  }\n\n  handleReset = () => {\n    this.setState({ hasError: false, error: null, errorInfo: null });\n    window.location.reload();\n  };\n\n  render() {\n    if (this.state.hasError) {\n      // Render custom fallback UI\n      let errorMessage = 'Something went wrong';\n      \n      if (this.state.errorMessage) {\n        errorMessage = this.state.errorMessage;\n      } else if (this.state.error) {\n        if (typeof this.state.error === 'string') {\n          errorMessage = this.state.error;\n        } else if (this.state.error.message) {\n          errorMessage = this.state.error.message;\n        } else if (this.state.error.toString && typeof this.state.error.toString === 'function') {\n          try {\n            errorMessage = this.state.error.toString();\n          } catch (e) {\n            errorMessage = 'An error occurred';\n          }\n        }\n      }\n      \n      return (\n        <Container maxWidth=\"md\" sx={{ py: 8 }}>\n          <Box\n            sx={{\n              textAlign: 'center',\n              p: 4,\n              borderRadius: 3,\n              backgroundColor: 'background.paper',\n              boxShadow: '0 4px 20px rgba(0, 0, 0, 0.1)',\n            }}\n          >\n            <ErrorOutline sx={{ fontSize: 64, color: 'error.main', mb: 2 }} />\n            <Typography variant=\"h5\" gutterBottom sx={{ fontWeight: 700, mb: 2 }}>\n              Oops! Something went wrong\n            </Typography>\n            <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\n              {errorMessage}\n            </Typography>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              startIcon={<Refresh />}\n              onClick={this.handleReset}\n              sx={{ mt: 2 }}\n            >\n              Refresh Page\n            </Button>\n          </Box>\n        </Container>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}